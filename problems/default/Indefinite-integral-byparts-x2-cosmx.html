<calculatorHidden>
%UseLnInsteadOfLog
TurnOffRules("ExpressSecViaCosine", "ExpressCscViaSine", "ExpressTanViaSineCosine", "ExpressCotViaSineCosine","DistributeMultiplication", "IntegratePowerRule",
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb",
"IntegratePartialFractions", "CommonDenominator", "CommonDenominatorOneNonFraction", "sqrt", "IntegrateBlockIIaIIIa", "IntegrateBlockIIb", "IntegrateBlockIIIb");
a=RandomInteger{}((-30,-2),(2,30));
b=RandomInteger{}( (1,30));
m=RandomInteger{}((-30,-2), (2,30));
g=RandomInteger{}( 2, 9);
h=RandomInteger{}( -2,-10);
theIntegral{}{{x}}= (1/m)(sin(m x))(x^2) + (2/(m^2))(cos(m x))(x) - (2/(m^3))(sin(m x));
f=(x^2) cos(m x);
</calculatorHidden>
Integrate. Do not forget to <b><span style="color:red">include +C</span> (case sensitive) <span style="color:red">in your answer</span></b> 
or else your answer <b style="color:red">will be marked wrong</b>.
<br>
<answerCalculatorHighlight>
\(<calculator noTags="true">
\displaystyle \int f dx 
</calculator>=\)</answerCalculatorHighlight>
<calculatorAnswer id="AlgebraAnswer" buttons="algebra, trig">
(
TurnOnRules
("DistributeMultiplication", "IntegratePowerRule",
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb",
"IntegratePartialFractions");
CompareExpressionsNumerically {}(
AlgebraAnswer-theIntegral{}x,
(theDifference= AlgebraAnswer-theIntegral{}x; x=1; theDifference)_3, 0.000000001, x\in (0,0.5), 20, C\in (0,3), 4)
and
(EnsureExpressionDependsMandatoryVariables(AlgebraAnswer,C,x)=="")
)_2
</calculatorAnswer>

<calculatorCommentsBeforeInterpretation>
TurnOffRules
("DistributeMultiplication", "IntegratePowerRule", 
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb", 
"IntegratePartialFractions", "ExpressSecViaCosine", "ExpressCscViaSine", "ExpressTanViaSineCosine", "ExpressCotViaSineCosine");
</calculatorCommentsBeforeInterpretation>
 
<calculatorCommentsBeforeSubmission>
EnsureExpressionDependsMandatoryVariables(AlgebraAnswer,C, x)
</calculatorCommentsBeforeSubmission>

<calculatorAnswerOnGiveUp>
%UseLnAbsInsteadOfLog
TurnOnRules("DistributeMultiplication");
theIntegral{}x+C
</calculatorAnswerOnGiveUp>

<calculatorSolution name="AlgebraAnswer">
<calculatorHidden>
TurnOffRules("ExpressSecViaCosine", "ExpressCscViaSine",
"ExpressTanViaSineCosine", "ExpressCotViaSineCosine",
"DistributeMultiplication", "IntegratePowerRule",
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb",
"IntegratePartialFractions", "CommonDenominator",
"CommonDenominatorOneNonFraction", "sqrt", "IntegrateBlockIIaIIIa");
</calculatorHidden>
<calculatorHidden>  
btwo=2b;
b2 = 2*b;
px = p*x;
outTerm1 = 1/m;
outTerm2 = (e^(mx))/m;
inTerm = 2/m;
inTerm2 = -1/m;
term1 = (x^2)sin(m x)/m;
term2 = x(2/(m^2))cos(m x);
term3 = -2sin(m x)/(m^3);
term12 = (x^2)sin(m x) + inTerm;
finalterm = term1+term2+term3;
denominator = b + c(cos(px));
TurnOnRules("DistributeMultiplication");
finalAnswer=theIntegral{}x;
</calculatorHidden>

\(<calculator noTags="true"> 
EvaluateSymbols{}(
"\begin{array}{rcll|l}
\displaystyle \int f {\text d} x&=&\displaystyle  \frac{1}{m}  \int {x^2}(m \cos(m x)) {\text d} x
&&\displaystyle \text{Note~that~} m \cos(m x) {\text d} x = {\text d} \left( \sin(m x) \right)  \\\\
&=&\displaystyle  outTerm1  \int {x^2} {\text d} \left( \sin(m x) \right)
&&\displaystyle \text{Set~} u = x^2 \text{ and }  v = \sin(m x)  \\\\
&=&\displaystyle  outTerm1 \left[{x^2} \sin(m x) - \int \sin(m x) {\text d} \left(x^2\right) \right]
&&\displaystyle \text{Using~} \int u {\text d} v = uv - \int v {\text d} u\\\\
&=&\displaystyle  outTerm1 \left[{x^2} \sin(m x) - 2 \int x \sin(m x) {\text d} x \right]
&&\displaystyle \text{ }\\\\
&=&\displaystyle  outTerm1 \left[{x^2} \sin(m x) - \frac{2}{-(m)} \int x (-(m) \sin(m x)) {\text d} x \right]
&&\displaystyle \text{ }\\\\
&=&\displaystyle  outTerm1 \left[term12 \int x {\text d} \left( \cos(m x) \right) \right]
&&\displaystyle \text{Set~} u = x \text{~and~}  v = \cos(m x) \\\\
&=&\displaystyle  outTerm1 \left[term12 \left(x \cos(m x) - \int \cos(m x) {\text d} x \right) \right]
&&\displaystyle \text{Again, using~} \int u {\text d} v = uv - \int v {\text d} u \\\\
&=&\displaystyle  outTerm1 \left[term12 \left(x \cos(m x) - \frac{\sin(m x)}{m}\right) \right] + C
&&\displaystyle \text{ }\\\\
&=&\displaystyle  finalterm + C  &&\displaystyle \text{ }\\\\
\end{array}
")
</calculator>\)
</calculatorSolution>
