<calculatorHidden>
%UseLnInsteadOfLog
%UseLnAbsInsteadOfLog
TurnOffRules("ExpressSecViaCosine", "ExpressCscViaSine", "ExpressTanViaSineCosine", "ExpressCotViaSineCosine","DistributeMultiplication", "IntegratePowerRule",
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb",
"IntegratePartialFractions", "CommonDenominator", "CommonDenominatorOneNonFraction", "sqrt", "IntegrateBlockIIaIIIa",
"IntegratePullConstant");
a=RandomInteger{}((-1,-5),(2,5));
b=RandomInteger{}( (-1,-5),(2,5));
c=SelectAtRandom{}( 3,5,7,9);
g=SelectAtRandom{}( 2,4,6,8);
h=RandomInteger{}( -2,-10);

theIntegral{}{{x}}=b/2 \ln |a+ x^2| ;
f=\frac{b x}{a+x^2};
</calculatorHidden>
Integrate. Do not forget to <b><span style="color:red">include +C</span> (case sensitive) 
<span style="color:red">in your answer</span></b>. 
<br>
<answerCalculatorHighlight>
<calculator>
\displaystyle \int f dx
</calculator>\(=\) 
</answerCalculatorHighlight>
<calculatorAnswer id="AlgebraAnswer" buttons="algebra, logarithms">
(
TurnOnRules
("DistributeMultiplication", "IntegratePowerRule",
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb",
"IntegratePartialFractions");
CompareExpressionsNumerically {}(
AlgebraAnswer-theIntegral{}x,
(theDifference= AlgebraAnswer-theIntegral{}x; x=10; theDifference)_3, 0.00000000001, x\in (10,10.5), 20, C\in (0,3), 4)
and
(EnsureExpressionDependsMandatoryVariables(AlgebraAnswer,C,x)=="")
)_2
</calculatorAnswer>
<calculatorCommentsBeforeInterpretation>
TurnOffRules
("DistributeMultiplication", "IntegratePowerRule", 
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb", 
"IntegratePartialFractions", "ExpressSecViaCosine", "ExpressCscViaSine", 
"ExpressTanViaSineCosine", "ExpressCotViaSineCosine");
</calculatorCommentsBeforeInterpretation>

<calculatorCommentsBeforeSubmission>
EnsureExpressionDependsMandatoryVariables(AlgebraAnswer,C, x)
</calculatorCommentsBeforeSubmission>

<calculatorAnswerOnGiveUp>
theIntegral{}x+C
</calculatorAnswerOnGiveUp>
<br>
<calculatorSolution name="AlgebraAnswer">
<calculatorHidden>
TurnOffRules("ExpressSecViaCosine", "ExpressCscViaSine", "ExpressTanViaSineCosine",
"ExpressCotViaSineCosine", "DistributeMultiplication", "IntegratePowerRule",
"ConvertShortDenominatorToNegativePower", "IntegrateBlockIb",
"IntegratePartialFractions", "CommonDenominator",
"CommonDenominatorOneNonFraction", "sqrt", "IntegrateBlockIIaIIIa");
</calculatorHidden>
<table><tr><td>
<calculatorHidden>  
simplifiedB=b/2\phantom;
denominator=x^2+a;
bFormatted=b\phantom;
</calculatorHidden>
\(<calculator>
EvaluateSymbols{}(
"\begin{array}{rcll|l}
\displaystyle \int f {\text d} x&=&bFormatted \displaystyle  \int\frac{ {\text d} \left(\frac{x^2}{2}\right)}{denominator}  \\\\
&=&\displaystyle simplifiedB \int\frac{ {\text d} \left(denominator\right)}{denominator} &&\text{Set~} u=denominator \\\\
&=&\displaystyle simplifiedB \int\frac{ {\text d} u}{u} \\\\
&=&\displaystyle simplifiedB \ln |u| +C \\\\
&=&\displaystyle simplifiedB \ln |denominator| +C
\end{array}
")
</calculator>\)
</calculatorSolution>
