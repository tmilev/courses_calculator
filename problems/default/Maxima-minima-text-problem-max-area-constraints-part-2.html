<calculatorHidden>
TurnOffRules("DistributeMultiplication");
width = RandomInteger(5,11);
height=RandomInteger{}(5,15);
pythagoreanTripleGenerator=1+RandomInteger{}(1,10)/RandomInteger{}(1,10);
theSecant=(pythagoreanTripleGenerator^2+1)/(pythagoreanTripleGenerator^2-1);
theTangent = sqrt{}(theSecant^2-1) ;
coSecant = sqrt(1/theTangent^2+1);
cfRight= theTangent* Denominator{}theTangent;
cfLeft=Denominator{}theTangent;
1/(Denominator{}theSecant < 50);
baseTriangle=height/theTangent;
thePerimeter=width*2+height+baseTriangle+height*coSecant;
theUnit= Max(baseTriangle+width,height)/20;
theY=(thePerimeter-cfRight*x-cfLeft*x-cfLeft*x*theSecant)/2;
areaFormula= (theY*2+cfLeft*x)/2 * cfRight*x;
finalAnswerArea=(x= -1/2  CoefficientOf{}(x, Polynomialize {}areaFormula)/CoefficientOf{}(x^2, Polynomialize {}areaFormula);areaFormula)_2
</calculatorHidden>

<calculatorShowToUserOnly>
PlotPath ( 
(
(0,0),
(baseTriangle+width,0),
(baseTriangle+width,height),
(baseTriangle, height),
(0,0)
), black)
+PlotSegment((baseTriangle, height), (baseTriangle,0), gray)
+PlotPath( ((baseTriangle,theUnit), (baseTriangle+theUnit, theUnit),(baseTriangle+theUnit,0) ), silver)
+PlotLabel((baseTriangle+width/2,height+theUnit),"y"  )
+PlotLabel((baseTriangle+width-theUnit,height/2),cfRight x  )
+PlotLabel((baseTriangle/2,theUnit),cfLeft x  )
+PlotLabel((baseTriangle,-theUnit),"D"  )
+PlotLabel((-theUnit,-theUnit),"E"  )
+PlotLabel((baseTriangle+width+theUnit,-theUnit),"C"  )
+PlotLabel((baseTriangle+width+theUnit,height+theUnit),"B"  )
+PlotLabel((baseTriangle-theUnit,height+theUnit),"A"  )
+PlotRemoveCoordinateAxes 0
+PlotViewRectangle((-theUnit*3,-theUnit*3),(baseTriangle+width+theUnit,height+theUnit*3))
</calculatorShowToUserOnly>
<br>
The diagram shows a trapezoid \(ABCE\) and let \(D\) be the heel of the perpendicular 
from \(A\) to \(EC\), as indicated. Furthermore let the trapezoid be such that 
\(ABCD\) is a rectangle. The segment \(AB\) has length \(y\), the 
segment \(BC\) has length <calculator>cfRight x</calculator> and the segment 
\(ED\) has length <calculator>cfLeft x</calculator> units.
The perimiter of \(ABCE\) is <calculator>thePerimeter</calculator> units. 

<br>
Find the trapezoid area as a function of \(x\). 
<b style="color:red">Omit units</b> from your answer; your answer should 
<b style="color:red">depend on \(x\).</b>

<br>
<answerCalculatorHighlight>
\(A(x)=\)
</answerCalculatorHighlight> 
<calculatorAnswer id="AlgebraAnswerArea" buttons="algebra">
Polynomialize(AlgebraAnswerArea-areaFormula) == 0  ;
</calculatorAnswer>
<calculatorCommentsBeforeSubmission>
EnsureExpressionDependsMandatoryVariables(AlgebraAnswerArea,x);
</calculatorCommentsBeforeSubmission>

<calculatorAnswerOnGiveUp>
areaFormula;
"\(="+ToString(Polynomialize areaFormula)+"\)"
</calculatorAnswerOnGiveUp>
<br>
Find the maximal possible area of the trapezoid. 
<b style="color:red">Exclude units</b> from your answer.
<br>
<answerCalculatorHighlight>
\(A_{max}=\)
</answerCalculatorHighlight>
<calculatorAnswer id="AlgebraAnswerAreaMax" buttons="algebra">
finalAnswerArea
-AlgebraAnswerAreaMax==0
</calculatorAnswer>
<calculatorCommentsBeforeSubmission>
EnsureExpressionDependsOnlyOn(AlgebraAnswerAreaMax,none);
</calculatorCommentsBeforeSubmission>

<calculatorAnswerOnGiveUp>
finalAnswerArea;
"\(\approx "+ToString(DoubleValue finalAnswerArea)+"\)"
</calculatorAnswerOnGiveUp>